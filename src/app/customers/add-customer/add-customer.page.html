<ng-container *ngIf="auth.user$ | async as user">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button>
          <ion-label color="primary" (click)="cancel()">Cancelar</ion-label>
        </ion-button>
      </ion-buttons>
      <ion-title>Añadir cliente</ion-title>

      <ion-buttons slot="end">
        <ion-button
          [disabled]="!submitEnabled"
          type="submit"
          (click)="submitForm(customerForm.value, user.id)"
        >
          <ion-label color="primary">OK</ion-label>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <div class="bg-list">
      <form [formGroup]="customerForm">
        <ion-list inset lines="inset" class="ion-item-round ion-no-margin">
          <ion-item lines="none">
            <ion-input
              #inputNombre
              enterkeyhint="enter"
              [color]="isInputInvalid(name) ? 'danger' : 'undefined'"
              placeholder="Nombre (Obligatorio)"
              (keyup.enter)="goToNext(primerApellido)"
              required
              type="text"
              formControlName="name"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-input
              #primerApellido
              enterkeyhint="enter"
              placeholder="Primer Apellido (Obligatorio)"
              required
              [color]="isInputInvalid(firstSurname) ? 'danger' : 'undefined'"
              type="text"
              formControlName="firstSurname"
              (keyup.enter)="goToNext(segundoApellido)"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-input
              #segundoApellido
              placeholder="Segundo Apellido (Obligatorio)"
              enterkeyhint="enter"
              required
              [color]="isInputInvalid(secondSurname) ? 'danger' : 'undefined'"
              type="text"
              formControlName="secondSurname"
              (keyup.enter)="goToNext(emailField)"
            ></ion-input>
          </ion-item>
        </ion-list>

        <ion-list inset lines="inset" class="ion-item-round ion-no-margin">
          <ion-item>
            <ion-input
              #emailField
              enterkeyhint="enter"
              placeholder="Email"
              [color]="isInputInvalid(email) ? 'danger' : 'undefined'"
              type="email"
              formControlName="email"
              (keyup.enter)="goToNext(phoneInput)"
            ></ion-input> </ion-item
        ></ion-list>

        <ion-list inset lines="inset" class="ion-item-round ion-no-margin">
          <ion-item>
            <ion-input
              #phoneInput
              enterkeyhint="enter"
              placeholder="Teléfono (Obligatorio)"
              [color]="isInputInvalid(phone) ? 'danger' : 'undefined'"
              required
              type="text"
              formControlName="phone"
            ></ion-input>
          </ion-item>
        </ion-list>
      </form>
    </div>
  </ion-content>
</ng-container>
